(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1702:(e,t,r)=>{Promise.resolve().then(r.bind(r,2604))},2604:(e,t,r)=>{"use strict";r.d(t,{default:()=>N});var s=r(5155),a=r(2115),n=r(810),l=r(2282),c=r(2406),i=r(8562),o=r(7335),d=r(7315),h=r(8786),x=r(8983),j=r(2432),A=r(894),u=r(8416),k=r(6417),p=r(7753),y=r(5131),C=r(6214),g=r(450),f=r(7740),m=r(6327),w=r(2651);let v="https://localhost:57382/api",T={getTasks:async()=>{try{return(await w.A.get("".concat(v,"/Tasks"))).data}catch(e){throw console.error("Error fetching tasks:",e),e}},deleteTask:async e=>{try{await w.A.delete("".concat(v,"/Tasks/").concat(e))}catch(t){throw console.error("Error deleting task ".concat(e,":"),t),t}},createTask:async e=>{try{return(await w.A.post("".concat(v,"/Tasks"),e)).data}catch(e){throw console.error("Error creating task:",e),e}}};var b=r(8998),D=r(7094),S=r(615),E=r(9283),_=r(1396);let I=e=>{let{onTaskCreated:t}=e,[r,n]=(0,a.useState)(""),[c,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(!1),[h,x]=(0,a.useState)(null),j=async e=>{e.preventDefault(),d(!0),x(null);try{await T.createTask({description:r,isCompleted:c}),n(""),i(!1),t&&t()}catch(e){x("Failed to create task. Please try again.")}finally{d(!1)}};return(0,s.jsx)("form",{onSubmit:j,children:(0,s.jsxs)(b.A,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[(0,s.jsx)(D.A,{label:"Description",value:r,onChange:e=>n(e.target.value),required:!0,disabled:o,fullWidth:!0}),(0,s.jsx)(S.A,{control:(0,s.jsx)(E.A,{checked:c,onChange:e=>i(e.target.checked),disabled:o}),label:"Is Completed"}),h&&(0,s.jsx)(_.A,{severity:"error",children:h}),(0,s.jsx)(l.A,{type:"submit",variant:"contained",color:"primary",disabled:o,fullWidth:!0,children:o?"Creating...":"Create Task"})]})})},N=()=>{let[e,t]=(0,a.useState)([]),[r,w]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),[D,S]=(0,a.useState)(null),E=async()=>{try{let e=await T.getTasks();t(e)}catch(e){console.error("Error fetching tasks:",e)}},_=e=>{S(e),b(!0)},N=async()=>{if(D)try{await T.deleteTask(D),E()}catch(e){console.error("Error deleting task:",e)}b(!1),S(null)},W=()=>{b(!1),S(null)},P=()=>{w(!1)};return(0,a.useEffect)(()=>{E()},[]),(0,s.jsxs)("div",{style:{padding:"20px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,s.jsx)(n.A,{variant:"h4",gutterBottom:!0,children:"Tasks"}),(0,s.jsx)(l.A,{variant:"contained",color:"primary",startIcon:(0,s.jsx)(f.A,{}),onClick:()=>{w(!0)},children:"Create Task"})]}),(0,s.jsx)(c.A,{component:i.A,children:(0,s.jsxs)(o.A,{children:[(0,s.jsx)(d.A,{children:(0,s.jsxs)(h.A,{children:[(0,s.jsx)(x.A,{children:"ID"}),(0,s.jsx)(x.A,{children:"Description"}),(0,s.jsx)(x.A,{children:"Created Date"}),(0,s.jsx)(x.A,{children:"Status"}),(0,s.jsx)(x.A,{children:"Actions"})]})}),(0,s.jsx)(j.A,{children:e.map(e=>(0,s.jsxs)(h.A,{children:[(0,s.jsx)(x.A,{children:e.id}),(0,s.jsx)(x.A,{children:e.description}),(0,s.jsx)(x.A,{children:new Date(e.createdDate).toLocaleDateString()}),(0,s.jsx)(x.A,{children:e.isCompleted?"Completed":"Pending"}),(0,s.jsx)(x.A,{children:(0,s.jsx)(A.A,{color:"error",onClick:()=>_(e.id),children:(0,s.jsx)(g.A,{})})})]},e.id))})]})}),(0,s.jsxs)(u.A,{open:r,onClose:P,maxWidth:"sm",fullWidth:!0,children:[(0,s.jsx)(k.A,{children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Create New Task",(0,s.jsx)(A.A,{edge:"end",color:"inherit",onClick:P,"aria-label":"close",children:(0,s.jsx)(m.A,{})})]})}),(0,s.jsx)(p.A,{children:(0,s.jsx)(I,{onTaskCreated:()=>{E(),P()}})})]}),(0,s.jsxs)(u.A,{open:v,onClose:W,children:[(0,s.jsx)(k.A,{children:"Confirm Delete"}),(0,s.jsx)(p.A,{children:(0,s.jsx)(y.A,{children:"Are you sure you want to delete this task?"})}),(0,s.jsxs)(C.A,{children:[(0,s.jsx)(l.A,{onClick:W,color:"primary",children:"Cancel"}),(0,s.jsx)(l.A,{onClick:N,color:"error",autoFocus:!0,children:"Delete"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[650,441,517,358],()=>t(1702)),_N_E=e.O()}]);